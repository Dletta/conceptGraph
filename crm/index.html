<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="ux.css">
    <title>Editor</title>
  </head>
  <body>


  </body>
  <script src="https://cdn.jsdelivr.net/npm/gun/gun.js"></script>

  <!-- LIBRARIES -->
  <script src="../lib/_helpers.js" charset="utf-8"></script>
  <script src="../lib/thing.js" charset="utf-8"></script>
  <script src="../lib/axiom.js" charset="utf-8"></script>

  <script src="../lib/relation.js" charset="utf-8"></script>
  <script src="../lib/join.js" charset="utf-8"></script>
  <script src="../lib/stores.js" charset="utf-8"></script>

  <!-- PLAYGROUND -->
  <script src="crm.js" charset="utf-8"></script>

  <script type="text/javascript">
    var peers = ['http://localhost:8000/gun'/*,'https://notabug.io/gun'*/]
    var gun = Gun({peers:peers, localStorage: false, radisk:false});

    console.log("Paste 'var add = function(a,b){return a+b;}'");
    var push = function() {
      var input = document.getElementById('editor');
      gun.get('functions').put({add:input.value});
      console.log(input.value + ' saved');
    }

    var pull = function(data, key) {
      var scr = document.createElement('script');
      scr.innerHTML = data;
      document.all[0].appendChild(scr);
      console.log('pulled function');
    }
  </script>

</html>
