<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="ux.css">
    <title>Editor</title>
  </head>
  <body>
    <div class="menu" id="menu">
      <span class="button">Menu</span>
      <span class="button" onclick="gun.get('functions').get('add').once(pull)">Browse <input type="text" name="browse" value="AXE:dAppname"></span>
      <span class="button">Edit</span>
      <span class="button">Insert</span>
      <span class="button" onclick="createView()">Create a new view</span>
      <span class="button" onclick="push()">Publish</span>
    </div>
    <div class="container" id="cont">

    </div>
  </body>
  <script src="https://cdn.jsdelivr.net/npm/gun/gun.js"></script>
  <!-- SETUP -->
  <script type="text/javascript">
    var peers = ['http://18.222.4.31:8765/gun']
    var gun = Gun({peers:peers, /*localStorage: false, radisk:false*/});
    var script = gun.get('script');
    script.map().once(inject);
    function inject (obj, key) {
      console.log(key, obj);
      var scr = document.createElement('script');
      scr.setAttribute('date', obj.date);
      scr.setAttribute('version', obj.version);
      scr.setAttribute('createdBy', obj.creator);
      scr.innerHTML = obj.script;
      document.all[0].appendChild(scr);
    }
  </script>

  <!-- LIBRARIES -->
  <script src="lib/_helpers.js" charset="utf-8"></script>
  <script src="lib/typehierarchy.js" charset="utf-8"></script>
  <script src="lib/thing.js" charset="utf-8"></script>
  <script src="lib/relation.js" charset="utf-8"></script>
  <script src="lib/graphToHtml.js" charset="utf-8"></script>
  <script src="lib/join.js" charset="utf-8"></script>
  <script src="lib/stores.js" charset="utf-8"></script>

  <!-- PLAYGROUND
  <script src="gOps.js" charset="utf-8"></script>
  -->


</html>
